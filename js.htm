<script>
	function feed(quant) 
	{
		var array = new Array(quant);		

		for(var a = 0; a < quant; a++)
		{
			var valor = Math.floor((Math.random() * (quant))) + 1;
			array[a] = valor;			
		}		

		return array;
	}

	function run() {
		var vector = feed(10000);		
		shell(vector, 2);		
	}

	function shell(array, gap) 
	{
		var start = new Date();

		var current = (array.length / gap);

		while(current > 0)
		{
			for(var a = 0; (current + a) < array.length; a++)
			{
				if(array[a] > array[current + a]) {
					var aux = array[a];
					array[a] = array[current + a];
					array[current + a] = aux;
				}
			}

			current /= gap;			
		}

		current = 0;
		
		for(var a = 0; a < array.length; a++, current++)
		{
			for(var b = current; b > 0; b--)
			{
				if(array[b-1] > array[b]) {
					var aux = array[b];
					array[b] = array[b-1];
					array[b-1] = aux;
				}
			}
		}

		var end = new Date() - start;
		console.log(end);
	}

	/*public function run($vector, $gap = 2) 
	{
		$current = count($vector) / $gap;
		$current = intval($current);
		
		while($current > 0)
		{
			for($a = 0; ($current+$a) < count($vector); $a++)
			{
				if($vector[$a] > $vector[$current + $a]) {
					$aux = $vector[$a];
					$vector[$a] = $vector[$current + $a];
					$vector[$current + $a] = $aux;			
				}
			}
			
			$current /= $gap;
			$current = intval($current);		
		}
		
		$current = 0;
		
		for($a = 0; $a < count($vector); $a++, $current++)
		{
			for($b = $current; $b > 0; $b--)
			{
				if($vector[$b-1] > $vector[$b]) {
					$aux = $vector[$b];
					$vector[$b] = $vector[$b-1];
					$vector[$b-1] = $aux;
				}
			}
		}
		
		return $vector;
	}*/

</script>

<body onLoad="run()">

</body>